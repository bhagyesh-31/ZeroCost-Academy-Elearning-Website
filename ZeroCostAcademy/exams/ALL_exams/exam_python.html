<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Exam - Certificate Quiz</title>
  <link href="../img/icon.png" rel="icon" type="image/png">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      padding: 20px;
      background-color: #f9f9f9;
      color: #333;
    }

    h1 {
      text-align: center;
      color: #ff7f0e;
    }

    .question {
      background: #fff;
      border-radius: 8px;
      padding: 15px 20px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .question h3 {
      margin-bottom: 10px;
    }

    .options label {
      display: block;
      margin-bottom: 8px;
      cursor: pointer;
    }

    button {
      display: block;
      margin: 30px auto;
      padding: 12px 30px;
      background-color: #ff7f0e;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 18px;
      cursor: pointer;
    }

    button:hover {
      background-color: #e76e00;
    }

    #result {
      text-align: center;
      font-size: 20px;
      margin-top: 30px;
      font-weight: bold;
    }
  </style>
</head>
<body>

<h1>Final Quiz - Certificate Test</h1>
<form id="quizForm"></form>
<button onclick="submitQuiz()">Submit Answers</button>
<div id="result"></div>

<script>
const allQuestions = [
  { question: "What is the correct file extension for Python files?", options: [".pyth", ".pt", ".py", ".pyt"], answer: ".py" },
  { question: "Which keyword is used to define a function in Python?", options: ["function", "def", "func", "define"], answer: "def" },
  { question: "How do you insert comments in Python?", options: ["//", "<!-- -->", "#", "/* */"], answer: "#" },
  { question: "What is the correct way to create a list in Python?", options: ["(1, 2, 3)", "{1, 2, 3}", "[1, 2, 3]", "<1, 2, 3>"], answer: "[1, 2, 3]" },
  { question: "What is the output of `len([1, 2, 3])`?", options: ["2", "3", "4", "Error"], answer: "3" },
  { question: "Which keyword is used to create a class in Python?", options: ["object", "define", "class", "struct"], answer: "class" },
  { question: "How do you start a for loop in Python?", options: ["for (i = 0; i < 5; i++)", "foreach i in range(5)", "for i in range(5):", "loop i = 5"], answer: "for i in range(5):" },
  { question: "Which function converts a string to an integer?", options: ["int()", "str()", "float()", "char()"], answer: "int()" },
  { question: "What is used to define a block of code in Python?", options: ["Brackets {}", "Curly braces", "Indentation", "Parentheses ()"], answer: "Indentation" },
  { question: "What does the `type()` function do?", options: ["Returns length", "Returns data type", "Converts data", "Compares values"], answer: "Returns data type" },
  { question: "Which of the following is a Python tuple?", options: ["[1, 2, 3]", "{1, 2, 3}", "(1, 2, 3)", "<1, 2, 3>"], answer: "(1, 2, 3)" },
  { question: "How do you start a Python `if` statement?", options: ["if x == y", "if (x == y)", "if x = y then", "if x equals y"], answer: "if x == y" },
  { question: "Which symbol is used for exponentiation in Python?", options: ["^", "**", "exp()", "^^"], answer: "**" },
  { question: "What is the output of `3 // 2` in Python?", options: ["1.5", "2", "1", "0"], answer: "1" },
  { question: "Which of the following is used to handle exceptions in Python?", options: ["catch", "handle", "try-except", "error handling"], answer: "try-except" },
  { question: "Which data structure is used to store key-value pairs?", options: ["list", "tuple", "dictionary", "set"], answer: "dictionary" },
  { question: "What is the correct way to open a file for reading in Python?", options: ["open('file.txt')", "open('file.txt', 'r')", "file.read('file.txt')", "read('file.txt')"], answer: "open('file.txt', 'r')" },
  { question: "Which function is used to get user input in Python 3?", options: ["get()", "input()", "scan()", "read()"], answer: "input()" },
  { question: "Which of the following is a boolean value in Python?", options: ["YES", "TRUE", "True", "ON"], answer: "True" },
  { question: "How do you write a single-line lambda function?", options: ["lambda x: x+1", "function x() return x+1", "def lambda(x):", "x => x+1"], answer: "lambda x: x+1" },
  { question: "Which method adds an item to the end of a list?", options: ["add()", "append()", "insert()", "extend()"], answer: "append()" },
  { question: "How do you import the math module?", options: ["include math", "import.math", "import math", "load math"], answer: "import math" },
  { question: "Which loop is used to repeat code as long as a condition is true?", options: ["for", "do", "while", "repeat"], answer: "while" },
  { question: "What is the output of `bool('')` in Python?", options: ["True", "False", "None", "0"], answer: "False" },
  { question: "Which keyword is used to define an anonymous function?", options: ["def", "function", "lambda", "anon"], answer: "lambda" }
];

  const shuffled = allQuestions.sort(() => 0.5 - Math.random());
  const selectedQuestions = shuffled.slice(0, 20);
  const form = document.getElementById("quizForm");

  selectedQuestions.forEach((q, index) => {
    const div = document.createElement("div");
    div.className = "question";

    const title = document.createElement("h3");
    title.textContent = `${index + 1}. ${q.question}`;
    div.appendChild(title);

    const optionsDiv = document.createElement("div");
    optionsDiv.className = "options";

    q.options.forEach(opt => {
      const label = document.createElement("label");
      const input = document.createElement("input");
      input.type = "radio";
      input.name = `q${index}`;
      input.value = opt;
      label.appendChild(input);
      label.appendChild(document.createTextNode(" " + opt));
      optionsDiv.appendChild(label);
    });

    div.appendChild(optionsDiv);
    form.appendChild(div);
  });

  function submitQuiz() {
    let score = 0;

    selectedQuestions.forEach((q, index) => {
      const radios = document.getElementsByName(`q${index}`);
      radios.forEach(r => {
        if (r.checked && r.value === q.answer) {
          score++;
        }
      });
    });

    const resultDiv = document.getElementById("result");
    const btn = document.querySelector("button[onclick='submitQuiz()']");
    btn.disabled = true;
    btn.textContent = "Submitted";

    if (score > 15) {
            resultDiv.innerHTML = `<p style="color: green;">You scored ${score} out of 20.<br>Redirecting to certificate page...</p>`;
            setTimeout(() => {
                window.location.href = `Certificates_Generator/certificate_python.php?score=${score}`;
            }, 2000);
        } else {
            resultDiv.innerHTML = `<p style="color: red;">You scored ${score} out of 20.<br><strong>Better Luck Next Time!</strong></p>`;
            const backButton = document.createElement("a");
            backButton.href = "course.php";
            backButton.className = "back-button";
            backButton.textContent = "Back to Course";
            resultDiv.appendChild(backButton);
        }
  }
</script>

</body>
</html>
